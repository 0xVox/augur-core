close market tx

this works for all but scalar stuff
x events have outcomes 1 2 3 etc.
add a dimension and you get columns
 so let's say the 2nd dimension has 1 2 3 4 outcomes

so outcome 1 and outcome 1 have 1
2 and 1 are 2
3 and 1 are 3

if you have outcome 1 and outcome 2 it's numOutcomesinX*1 + 1
outcome 2 and outcome 2 is firsteventoutcome + numOutcomesinfirstevent*secondeventoutcome-1
outcome 1 and outcome 3 is numOutcomesinX*2 + 1

add the third dimension say
outcome 1 and outcome 3 and outcome 2
  if dimension 3 is 1
 firsteventoutcome + numOutcomesinfirstevent*secondeventoutcome-1 
 if 2 then
  firsteventoutcome + numOutcomesinfirstevent*secondeventoutcome-1 + numOutcomesinfirstevent*numOutcomesinsecondevent	



  firsteventoutcome + numOutcomesinfirstevent*secondeventoutcome-1 + numOutcomesinfirstevent*numOutcomesinsecondevent*(OutcomeinThird-1)	


  1
  2
  3         2
           1 
   1 2 3 4 


    1  2
1 
2
3


1 4
2 5
3 6
macro kron($a, $asz, $b, $bsz):
    with prod = array($asz * $bsz):
        with i = 0:
            while i < $asz:
                with j = 0:
                    while j < $bsz:
                        prod[j + $bsz*i] = $a[i] * $b[j]
                        j += 1
                i += 1
        prod

def test_kron():
    a = [1, 2]
    b = [4, 5, 6]
    expected = [4, 5, 6, 8, 10, 12]
    actual = kron(a, 2, b, 3)
    i = 0
    while i < 6:
        if expected[i] != actual[i]:
            return(0)
        i += 1
    return(1)
